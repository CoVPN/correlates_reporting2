---
output: html_document
editor_options: 
  chunk_output_type: console
---

## `r fname.suffix`

\setlength{\tabcolsep}{.5ex}
\scriptsize
  \input{`r pathCoRoutput`/CoR_univariable_poisson_pretty_`r fname.suffix`}
$\ast$Baseline covariates adjusted for: `r covariates_adjusted`.

$\ast\ast$`r txt.coxph.note2`

`r if (!show.q) '<!--'`
$\ast\ast\ast$q-value and FWER (family-wide error rate) are computed over the set of p-values both for quantitative markers and categorical markers
`r if (!show.q) '-->'`

`r special.note`


\clearpage
\setlength{\tabcolsep}{.5ex}
\scriptsize
  \input{`r pathCoRoutput`/CoR_univariable_poisson_pretty_scaled_`r fname.suffix`}
$\ast$Baseline covariates adjusted for: `r covariates_adjusted`.

$\ast\ast$`r txt.coxph.note2`


`r if (!show.q) '<!--'`
$\ast$$\ast$$\ast$q-value and FWER (family-wide error rate) are computed over the set of p-values both for quantitative markers and categorical markers
`r if (!show.q) '-->'`

`r special.note`



`r if (TRIAL %in% c("iliad_ib202p")) '<!--'`
\clearpage
\scriptsize
\input{`r paste0(pathCoRoutput, "/CoR_univariable_poisson_cat_pretty_", fname.suffix)`}
\normalsize
\vspace{-15pt}
$\ast$Baseline covariates adjusted for: `r covariates_adjusted`. Cutpoints (on the log10 scale): `r concatList(paste0("\\input{", pathCoRoutput, "/cutpoints_", all.markers, ".txt}"), sep=",")`

$\ast\ast$`r txt.coxph.note2`

$\ast\ast$$\ast$Generalized Wald-test p-value of the null hypothesis that the hazard rate is constant across the Lower, Middle, and Upper tertile groups.

$\dagger$ q-value and FWER (family-wide error rate) are computed over the set of p-values both for quantitative markers and categorical markers

`r if (TRIAL %in% c("iliad_ib202p")) '-->'`



\clearpage
\begin{table}[H]
\caption{Number of cases and non-cases in ph2 or not}
\begin{center}
  \input{`r pathCoRoutput`/tab1_`r fname.suffix`}\\
\end{center}
\end{table}


\clearpage




<!-- Forest plots -->

```{r, echo=FALSE, results='asis'}

message("one more message")

# cat(concatList(rep('#',level+1)), " Forest plots\n\n")

# ../ is necessary because pathCoRoutput starts at corcoxph
if(file.exists(paste0("../", pathCoRoutput, "/hr_forest_",fname.suffix,".pdf"))) {
  
  cat("
  \\clearpage
\\begin{figure}
\\center
\\includegraphics[width=.8\\textwidth,keepaspectratio]{", pathCoRoutput, "/hr_forest_", fname.suffix, ".pdf}
\\caption{Forest plots depicting hazard ratios", ifelse(TRIAL=="covail_tcell", "", " per 10-fold increment in the marker"), ", x-axis on the antilog scale. Case indicator: ", escape(EventIndPrimary), "}
\\end{figure}
", sep="")
  
  cat("
  \\clearpage
\\begin{figure}
\\center
\\includegraphics[width=.8\\textwidth,keepaspectratio]{", pathCoRoutput, "/hr_forest_log_", fname.suffix, ".pdf}
\\caption{Forest plots depicting hazard ratios", ifelse(TRIAL=="covail_tcell", "", " per 10-fold increment in the marker"), ", x-axis on the log scale. Case indicator: ", escape(EventIndPrimary), "}
\\end{figure}
", sep="")
  
  cat("
  \\clearpage
\\begin{figure}
\\center
\\includegraphics[width=.8\\textwidth,keepaspectratio]{", pathCoRoutput, "/hr_forest_scaled_", fname.suffix, ".pdf}
\\caption{Forest plots depicting hazard ratios per SD change in marker, x-aix on the antilog scale. Case indicator: ", escape(EventIndPrimary), "}
\\end{figure}
", sep="")
  
  cat("
  \\clearpage
\\begin{figure}
\\center
\\includegraphics[width=.8\\textwidth,keepaspectratio]{", pathCoRoutput, "/hr_forest_log_scaled_", fname.suffix, ".pdf}
\\caption{Forest plots depicting hazard ratios per SD change in marker, x-aix on the log scale. Case indicator: ", escape(EventIndPrimary), "}
\\end{figure}
", sep="")
  
  

}
```


